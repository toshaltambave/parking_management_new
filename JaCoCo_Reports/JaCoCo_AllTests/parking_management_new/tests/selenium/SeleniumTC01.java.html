<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>SeleniumTC01.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Merged (Apr 30, 2019 2:51:49 AM)</a> &gt; <a href="../../index.html" class="el_group">parking_management_new</a> &gt; <a href="../index.html" class="el_bundle">tests</a> &gt; <a href="index.source.html" class="el_package">selenium</a> &gt; <span class="el_source">SeleniumTC01.java</span></div><h1>SeleniumTC01.java</h1><pre class="source lang-java linenums">package selenium;

import java.io.FileInputStream;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Properties;
import java.util.concurrent.TimeUnit;
import org.junit.*;
import org.junit.runner.RunWith;
import org.junit.runners.MethodSorters;

import static org.junit.Assert.*;
import org.openqa.selenium.*;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.Select;

import controller.ReservationsController;
import functions.BusinessFunctions;
import junitparams.FileParameters;
import junitparams.JUnitParamsRunner;
import model.*;
import test.Data.TestDAO;

@RunWith(JUnitParamsRunner.class)
@FixMethodOrder(MethodSorters.NAME_ASCENDING)
<span class="fc" id="L28">public class SeleniumTC01 extends BusinessFunctions {</span>
	private WebDriver driver;
<span class="fc" id="L30">	private StringBuffer verificationErrors = new StringBuffer();</span>
<span class="fc" id="L31">	private BusinessFunctions functions = new BusinessFunctions();</span>

	private String appUrl;
	private String sharedUIMapPath;
	ReservationsController rc;
	CreditCard cc;
	CreditCardError cardError;
	Reservation reservation;
	ReservationError resError;
	
	@Before
	public void setUp() throws Exception {
		// Change to FireFoxDriver if using FireFox browser
		//FireFox Driver
<span class="fc" id="L45">	   System.setProperty(&quot;webdriver.firefox.marionette&quot;, &quot;C:\\GeckoSelenium\\geckodriver.exe&quot;);</span>
<span class="fc" id="L46">	   driver = new FirefoxDriver();</span>
//		System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\ChromeDriver\\chromedriver.exe&quot;);
//		driver = new ChromeDriver();
//		driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);
<span class="fc" id="L50">		prop = new Properties();</span>
<span class="fc" id="L51">		prop.load(new FileInputStream(&quot;./Configuration/Configuration.properties&quot;));</span>
<span class="fc" id="L52">		appUrl = prop.getProperty(&quot;AppUrl&quot;);</span>
<span class="fc" id="L53">		int timewait = (Integer.parseInt(prop.getProperty(&quot;wait_time&quot;)));</span>
<span class="fc" id="L54">		driver.manage().timeouts().implicitlyWait(timewait, TimeUnit.SECONDS);</span>
<span class="fc" id="L55">		sharedUIMapPath = prop.getProperty(&quot;SharedUIMapPath&quot;);</span>
<span class="fc" id="L56">		prop.load(new FileInputStream(sharedUIMapPath));</span>
<span class="fc" id="L57">		driver.get(appUrl);</span>
<span class="fc" id="L58">		driver.manage().window().setSize(new Dimension(1440,850));</span>
<span class="fc" id="L59">		rc = new ReservationsController();</span>
<span class="fc" id="L60">		cc = new CreditCard();</span>
<span class="fc" id="L61">		cardError = new CreditCardError();</span>
<span class="fc" id="L62">		reservation = new Reservation();</span>
<span class="fc" id="L63">		resError  = new ReservationError();</span>
<span class="fc" id="L64">	}</span>


	/**
	 * This Test all combinations of validation errors a user can see in the
	 * login and registration screens.
	 * 
	 * @throws Exception
	 */
////	@Test
////	@FileParameters(&quot;tests/Excel/RegisterFailures.csv&quot;)
////	public void aParkingUserRegistration(String userName, String password, String confirmPassword, String role,
////			String permitType, String exceptedErrorMsg, String expectedUsernameError, String expectedPasswordError,
////			String expectedConfirmPaswordError) throws Exception {
////		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();
////		
////		TestDAO.deleteUser(userName);
//////		if (&quot;Username is already in database&quot;.equals(expectedUsernameError) &amp;&amp; !TestDAO.userExists(userName)) {
//////				registerUser(userName, correctPassword,role,permitType,firstName,middleName,lastName,
//////						sex,dob,address,email,phoneNum,dlno,dlexpiry,regNum,utaId);
//////		}
//////		
////		if (&quot;None&quot;.equals(userName)) {
////			// Nothing entered - all errors present
////			driver.findElement(By.id(prop.getProperty(&quot;Btn_Register_Register&quot;))).click();
////		} else {
////			// UserName all ready in DataBase
////			functions.Register(driver, userName, password, confirmPassword, Role.ParkingUser.toString(), permitType);
////			if (&quot;Username is already in database&quot;.equals(expectedUsernameError)) {
////				TestDAO.deleteUser(userName);
////			}
////		}
////		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Login_CommonError&quot;))).getAttribute(&quot;value&quot;)
////				.equals(exceptedErrorMsg));
////		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_UsernameError&quot;))).getAttribute(&quot;value&quot;)
////				.equals(expectedUsernameError));
////		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_PasswordError&quot;))).getAttribute(&quot;value&quot;)
////				.equals(expectedPasswordError));
////		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_ConfirmPasswordError&quot;)))
////				.getAttribute(&quot;value&quot;).equals(expectedConfirmPaswordError));
////
////	}
////
////	@Test
////	@FileParameters(&quot;tests/Excel/UserDetailsFailures.csv&quot;)
////	public void bParkingUserDetails(String firstName, String middleName, String lastName, String sex,
////			String dob, String address, String email, String phoneNum, String dlNum, String expiryDate, String regNum,
////			String utaId, String expectedErrorMsg, String expectedFirstNameError, String expectedMiddleNameError,
////			String expectedLastNameError, String expectedDobError, String expectedAddressError,
////			String expectedEmailError, String expectedPhoneNumError, String expectedDlNumError,
////			String expectedDlExpiryError, String RegNumError, String utaIdError, String userName, String password, String confirmPassword, String role,
////			String permitType) throws Exception 
////	{
////		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();
////		
////		if (TestDAO.userExists(userName)) {
////			TestDAO.deleteUser(userName);
////		}
////		
////		functions.Register(driver, userName, password, confirmPassword, Role.ParkingUser.toString(), permitType);
////
////
////		if(&quot;None&quot;.equals(firstName)){
////			 //Nothing Entered all errors present
////			 driver.findElement(By.id(prop.getProperty(&quot;Btn_UserDetails_Submit&quot;))).click();
////		}else{
////			 functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dob, address, email, phoneNum, dlNum, expiryDate, regNum, utaId);
////		}
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_CommonError&quot;))).getAttribute(&quot;value&quot;).equals(expectedErrorMsg));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_FirstnameError&quot;))).getAttribute(&quot;value&quot;).equals(expectedFirstNameError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_MiddlenameError&quot;))).getAttribute(&quot;value&quot;).equals(expectedMiddleNameError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_LastnameError&quot;))).getAttribute(&quot;value&quot;).equals(expectedLastNameError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_DOBError&quot;))).getAttribute(&quot;value&quot;).equals(expectedDobError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_AddressError&quot;))).getAttribute(&quot;value&quot;).equals(expectedAddressError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_EmailError&quot;))).getAttribute(&quot;value&quot;).equals(expectedEmailError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_PhoneError&quot;))).getAttribute(&quot;value&quot;).equals(expectedPhoneNumError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_DLNOError&quot;))).getAttribute(&quot;value&quot;).equals(expectedDlNumError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_DLExpiryDteError&quot;))).getAttribute(&quot;value&quot;).equals(expectedDlExpiryError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_REGNOError&quot;))).getAttribute(&quot;value&quot;).equals(RegNumError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_UserDetails_UTAIDError&quot;))).getAttribute(&quot;value&quot;).equals(utaIdError));
////
////	}
////	
////	@Test
////	@FileParameters(&quot;tests/Excel/RegisterLoginFailures.csv&quot;)
////	public void cParkingUserLogin(String userName, String password, String expectedErrorMsg, String expectedUserNameError, String expectedPasswordError,String reguserName, String regpassword, String confirmPassword, String role,
////			String permitType,String firstName, String middleName, String lastName, String sex,
////			String dob, String address, String email, String phoneNum, String dlNum, String expiryDate, String regNum,
////			String utaId)
////	{
////		
////		if (TestDAO.userExists(reguserName)) {
////			TestDAO.deleteUser(reguserName);
////		}
////		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();
////		
////		functions.Register(driver, reguserName, regpassword, confirmPassword, Role.ParkingUser.toString(), permitType);
////		functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dob, address, email, phoneNum, dlNum, expiryDate, regNum, utaId);
////		
////		if(&quot;None&quot;.equals(userName)){
////			functions.Login(driver, &quot;&quot;, &quot;&quot;);
////		}else{
////			functions.Login(driver, userName, password);
////		}
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Login_CommonError&quot;))).getAttribute(&quot;value&quot;).equals(expectedErrorMsg));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Login_UsernameError&quot;))).getAttribute(&quot;value&quot;).equals(expectedUserNameError));
////		 assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Login_UsernameError&quot;))).getAttribute(&quot;value&quot;).equals(expectedPasswordError));
////		
////	}
		
	@Test
	@FileParameters(&quot;tests/Excel/TC04Good.csv&quot;)
	public void dParkingUserUpdateProfile(String userNameToUpdate, String userName, String updateUserName, String password,
			String updatePassword, String confirmPassword, String updateConfirmPassword, String role, String permitType,
			String updatePermitType, String firstName, String updateFirstName, String middleName,
			String updateMiddleName, String lastName, String updateLastName, String sex, String updateSex, String dob,
			String updateDob, String address, String updateAddress, String email, String updateEmail, String phoneNum,
			String updatePhoneNum, String dlNum, String updateDlNum, String dlExpiry, String updateDlExpiry,
			String regNum, String updateRegNum, String utaId, String updateUtaId) {
<span class="fc" id="L183">		driver.get(appUrl);</span>
<span class="fc" id="L184">		userName = userName+1;</span>
<span class="fc" id="L185">		updateUserName = updateUserName+2;</span>
<span class="pc bpc" id="L186" title="1 of 2 branches missed.">		assertTrue(!isElementPresent(driver, &quot;Txt_Register_Success&quot;));</span>
<span class="fc" id="L187">		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L188">		TestDAO.deleteUser(updateUserName);</span>
<span class="pc bpc" id="L189" title="1 of 2 branches missed.">		if (TestDAO.userExists(userName)) {</span>
<span class="fc" id="L190">			TestDAO.deleteUser(userName);</span>
		}
<span class="fc" id="L192">		functions.Register(driver, userName, password, confirmPassword, Role.ParkingUser.toString(), permitType);</span>
<span class="fc" id="L193">		functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dob, address, email, phoneNum,</span>
<span class="fc" id="L194">				dlNum, dlExpiry, regNum, utaId);</span>
<span class="fc" id="L195">		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L196">				.equals(&quot;Registered Successfully.&quot;));</span>
<span class="fc" id="L197">		functions.Login(driver, userName, password);</span>
<span class="pc bpc" id="L198" title="1 of 2 branches missed.">		if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
			try {
<span class="fc" id="L200">				Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L201">			} catch (NumberFormatException e) {</span>
				// TODO Auto-generated catch block
<span class="nc" id="L203">				e.printStackTrace();</span>
<span class="nc" id="L204">			} catch (InterruptedException e) {</span>
				// TODO Auto-generated catch block
<span class="nc" id="L206">				e.printStackTrace();</span>
			}
		}
<span class="fc" id="L209">		driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_upd&quot;))).click();</span>
<span class="fc" id="L210">		functions.UpdateUserProfileUserManager(driver, userName, updateFirstName, updateMiddleName, updateLastName,</span>
<span class="fc" id="L211">				updateUserName, updateSex, updateDob, updateAddress, updateEmail, updatePhoneNum, updateDlNum,</span>
<span class="fc" id="L212">				updateDlExpiry, updateRegNum, updateUtaId, updatePassword, updateConfirmPassword, updatePermitType);</span>
<span class="fc" id="L213">		driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
<span class="fc" id="L214">		driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
<span class="fc" id="L215">	}</span>
	
	@Test
	@FileParameters(&quot;tests/Excel/TC04Good.csv&quot;)
	public void eParkingUserUniqueUsername(String userNameToUpdate, String userName, String updateUserName, String password,
			String updatePassword, String confirmPassword, String updateConfirmPassword, String role, String permitType,
			String updatePermitType, String firstName, String updateFirstName, String middleName,
			String updateMiddleName, String lastName, String updateLastName, String sex, String updateSex, String dob,
			String updateDob, String address, String updateAddress, String email, String updateEmail, String phoneNum,
			String updatePhoneNum, String dlNum, String updateDlNum, String dlExpiry, String updateDlExpiry,
			String regNum, String updateRegNum, String utaId, String updateUtaId) {
<span class="fc" id="L226">		driver.get(appUrl);</span>
<span class="fc" id="L227">		userName = userName+1;</span>
<span class="fc" id="L228">		updateUserName = updateUserName+2;</span>
<span class="pc bpc" id="L229" title="1 of 2 branches missed.">		assertTrue(!isElementPresent(driver, &quot;Txt_Register_Success&quot;));</span>
<span class="fc" id="L230">		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="pc bpc" id="L231" title="1 of 2 branches missed.">		if (TestDAO.userExists(userName)) {</span>
<span class="nc" id="L232">			TestDAO.deleteUser(userName);</span>
		}
<span class="fc" id="L234">		functions.Register(driver, userName, password, confirmPassword, Role.ParkingUser.toString(), permitType);</span>
<span class="fc" id="L235">		functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dob, address, email, phoneNum,</span>
<span class="fc" id="L236">				dlNum, dlExpiry, regNum, utaId);</span>
<span class="fc" id="L237">		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L238">				.equals(&quot;Registered Successfully.&quot;));</span>
<span class="fc" id="L239">		functions.Login(driver, userName, password);</span>
<span class="pc bpc" id="L240" title="1 of 2 branches missed.">		if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
			try {
<span class="fc" id="L242">				Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L243">			} catch (NumberFormatException e) {</span>
				// TODO Auto-generated catch block
<span class="nc" id="L245">				e.printStackTrace();</span>
<span class="nc" id="L246">			} catch (InterruptedException e) {</span>
				// TODO Auto-generated catch block
<span class="nc" id="L248">				e.printStackTrace();</span>
			}
		}
<span class="fc" id="L251">		driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_upd&quot;))).click();</span>
<span class="fc" id="L252">		functions.UpdateUserProfileUserManager(driver, userName, updateFirstName, updateMiddleName, updateLastName,</span>
<span class="fc" id="L253">				updateUserName, updateSex, updateDob, updateAddress, updateEmail, updatePhoneNum, updateDlNum,</span>
<span class="fc" id="L254">				updateDlExpiry, updateRegNum, updateUtaId, updatePassword, updateConfirmPassword, updatePermitType);</span>
<span class="fc" id="L255">		driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
<span class="fc" id="L256">		driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
<span class="fc" id="L257">	}</span>
	
	  @Test
	  @FileParameters(&quot;tests/Excel/ParkingUserReservation.csv&quot;)
	  public void fParkingUserReservation(String userName, String password, String confirmPassword, String role,
				String permitType, String firstName, String middleName, String lastName, String sex, String dayOfBirth,
				String address, String email, String phoneNum, String dlNum, String dayOfExpiry, String regNum,
				String utaId, String startdate, String enddate, String area, String reservationPermitType, Integer floorNum,
				Integer spotNum, String ccNum, String expMon, String expYear, String cvv, String cardType, Boolean cart, Boolean camera, Boolean history,
				String startTimeError, String endTimeError, String compareError, 
				String cardNumError, String cardYearError, String cardMonthError, String cardCvvError) throws Exception {
<span class="fc" id="L268">		driver.get(appUrl);</span>
		
<span class="fc" id="L270">		TestDAO.deleteReservation(userName);</span>
<span class="fc" id="L271">		TestDAO.deleteUser(userName);</span>
		
<span class="fc" id="L273">		cc.setCardNumber(ccNum);</span>
<span class="fc" id="L274">		cc.setCardType(cardType);</span>
<span class="fc" id="L275">		cc.setCvv(cvv);</span>
<span class="fc" id="L276">		cc.setMonth(expMon);</span>
<span class="fc" id="L277">		cc.setYear(expYear);</span>
		
<span class="pc bpc" id="L279" title="1 of 2 branches missed.">	  	assertTrue(!isElementPresent(driver, &quot;Txt_Register_Success&quot;));</span>
<span class="fc" id="L280">		driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L281">		functions.Register(driver, userName, password, confirmPassword, Role.ParkingUser.toString(), permitType);</span>
<span class="fc" id="L282">		functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L283">				phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L284">		assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L285">				.equals(&quot;Registered Successfully.&quot;));</span>
<span class="fc" id="L286">		functions.Login(driver, userName, password);</span>
<span class="fc" id="L287">		DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="fc" id="L288">		Date date = new Date();</span>
<span class="fc" id="L289">		startdate = dateFormat.format(date) +&quot; &quot;+startdate;</span>
<span class="fc" id="L290">		enddate = dateFormat.format(date) +&quot; &quot;+enddate;</span>
		
<span class="fc" id="L292">		functions.reservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L293">	    reservation.validateDateTime(startdate, enddate, resError);</span>
	    
<span class="fc bfc" id="L295" title="All 2 branches covered.">	    if(resError.getErrorMsg().equals(&quot;There are time errors.&quot;)){</span>
<span class="fc" id="L296">	    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Start_Time&quot;))).getAttribute(&quot;value&quot;).equals(startTimeError));</span>
<span class="fc" id="L297">	    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_End_Time&quot;))).getAttribute(&quot;value&quot;).equals(endTimeError));</span>
<span class="fc" id="L298">	    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Compare&quot;))).getAttribute(&quot;value&quot;).equals(compareError));</span>
<span class="fc" id="L299">	    }</span>
	    else{
<span class="fc" id="L301">	    	functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum);</span>
<span class="fc" id="L302">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
			
<span class="pc bpc" id="L304" title="2 of 6 branches missed.">			if(cart || camera || history){</span>
<span class="fc" id="L305">				cc.validatecreditcarddetails(cc, cardError);</span>
		    }
<span class="fc bfc" id="L307" title="All 2 branches covered.">		    if(cardError.getErrorMsg().equals(&quot;Please correct the following errors.&quot;)){</span>
<span class="fc" id="L308">		    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Card_Num&quot;))).getAttribute(&quot;value&quot;).equals(cardNumError));</span>
<span class="fc" id="L309">		    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Card_Month&quot;))).getAttribute(&quot;value&quot;).equals(cardMonthError));</span>
<span class="fc" id="L310">		    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Card_Year&quot;))).getAttribute(&quot;value&quot;).equals(cardYearError));</span>
<span class="fc" id="L311">		    	assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Err_Card_Cvv&quot;))).getAttribute(&quot;value&quot;).equals(cardCvvError));</span>
<span class="fc" id="L312">		    }</span>
		    else{
<span class="fc" id="L314">		    	TestDAO.deleteReservation(userName);</span>
<span class="fc" id="L315">			    TestDAO.deleteUser(userName);</span>
<span class="fc" id="L316">			    driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
		    }
	    }
<span class="fc" id="L319">	  }</span>
	
		@Test
		@FileParameters(&quot;tests/Excel/ParkingUserReservations.csv&quot;)
		public void gParkingUserReservationAndViewReservation(String parkingmanageruserName,String basicparkinguseruserName,
				String premiumparkinguseruserName, String midrangeparkinguseruserName,String accessparkinguseruserName,
				String password, String confirmPassword, String parkingmangerrole,String parkinguserrole,
				String basicpermitType,String premiumpermitType,String midrangepermitType,String accesspermitType,
				String firstName, String middleName, String lastName, String sex, String dayOfBirth,
				String address, String email, String phoneNum, String dlNum, String dayOfExpiry, String regNum,
				String utaId,String AreaName,String floorNumber,String SpotsNo,String startdate, String enddate, 
				Integer floorNum,Integer spotNum, String ccNum, String expMon, String expYear,
				String cvv, String cardType, Boolean cart, Boolean camera, Boolean history) 
				throws Exception {
<span class="fc" id="L333">			driver.get(appUrl);</span>
<span class="fc" id="L334">			TestDAO.deleteReservation(basicparkinguseruserName);</span>
<span class="fc" id="L335">			TestDAO.deleteUser(basicparkinguseruserName);</span>
<span class="fc" id="L336">			TestDAO.deleteReservation(premiumparkinguseruserName);</span>
<span class="fc" id="L337">			TestDAO.deleteUser(premiumparkinguseruserName);</span>
<span class="fc" id="L338">			TestDAO.deleteReservation(midrangeparkinguseruserName);</span>
<span class="fc" id="L339">			TestDAO.deleteUser(midrangeparkinguseruserName);</span>
<span class="fc" id="L340">			TestDAO.deleteReservation(accessparkinguseruserName);</span>
<span class="fc" id="L341">			TestDAO.deleteUser(accessparkinguseruserName);</span>
<span class="fc" id="L342">			TestDAO.deleteUser(parkingmanageruserName);</span>
			
<span class="fc" id="L344">			DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="fc" id="L345">			Date date = new Date();</span>
<span class="fc" id="L346">			startdate = dateFormat.format(date) +&quot; &quot;+startdate;</span>
<span class="fc" id="L347">			enddate = dateFormat.format(date) +&quot; &quot;+enddate;</span>
<span class="fc" id="L348">			int val = TestDAO.getAreaId();</span>
<span class="fc" id="L349">			AreaName = AreaName+val;</span>
//			driver.manage().window().setSize(new Dimension(1936, 1056));
<span class="pc bpc" id="L351" title="1 of 2 branches missed.">			assertTrue(!isElementPresent(driver, &quot;Txt_Register_Success&quot;));</span>
<span class="fc" id="L352">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L353">			functions.Register(driver, parkingmanageruserName, password, confirmPassword, parkingmangerrole, premiumpermitType);</span>
<span class="fc" id="L354">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L355">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L356">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L357">					.equals(&quot;Registered Successfully.&quot;));</span>

<span class="fc" id="L359">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L360">			functions.Register(driver, basicparkinguseruserName, password, confirmPassword, parkinguserrole, basicpermitType);</span>
<span class="fc" id="L361">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L362">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L363">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L364">					.equals(&quot;Registered Successfully.&quot;));</span>

			
<span class="fc" id="L367">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L368">			functions.Register(driver, premiumparkinguseruserName, password, confirmPassword, parkinguserrole, premiumpermitType);</span>
<span class="fc" id="L369">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L370">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L371">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L372">					.equals(&quot;Registered Successfully.&quot;));</span>

			
<span class="fc" id="L375">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L376">			functions.Register(driver, midrangeparkinguseruserName, password, confirmPassword, parkinguserrole, midrangepermitType);</span>
<span class="fc" id="L377">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L378">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L379">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L380">					.equals(&quot;Registered Successfully.&quot;));</span>

			
<span class="fc" id="L383">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L384">			functions.Register(driver, accessparkinguseruserName, password, confirmPassword, parkinguserrole, accesspermitType);</span>
<span class="fc" id="L385">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L386">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
<span class="fc" id="L387">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L388">					.equals(&quot;Registered Successfully.&quot;));</span>
					
<span class="fc" id="L390">			functions.Login(driver, parkingmanageruserName, password);</span>
<span class="fc" id="L391">			functions.addParkingAreaList(driver, AreaName, basicpermitType, floorNumber, SpotsNo);</span>
<span class="fc" id="L392">			functions.addParkingAreaList(driver, AreaName, premiumpermitType, floorNumber, SpotsNo);</span>
<span class="fc" id="L393">			functions.addParkingAreaList(driver, AreaName, midrangepermitType, floorNumber, SpotsNo);</span>
<span class="fc" id="L394">			functions.addParkingAreaList(driver, AreaName, accesspermitType, floorNumber, SpotsNo);</span>
<span class="fc" id="L395">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			//Area Created
			
<span class="fc" id="L398">			functions.Login(driver, basicparkinguseruserName, password);</span>
<span class="fc" id="L399">			functions.reservationTimeAndDate(driver, startdate, enddate, AreaName);</span>
<span class="fc" id="L400">			functions.reservationFloorAndSpot(driver, basicpermitType, floorNum, spotNum);</span>
<span class="fc" id="L401">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L402" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L404">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L405">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L407">					e.printStackTrace();</span>
<span class="nc" id="L408">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L410">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L413">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L414">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L415">			functions.viewUserParkingSpots(driver, AreaName, basicpermitType, floorNum.toString());</span>
<span class="fc" id="L416">			driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_viewres&quot;))).click();</span>
<span class="pc bpc" id="L417" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L419">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L420">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L422">					e.printStackTrace();</span>
<span class="nc" id="L423">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L425">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L428">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
<span class="fc" id="L429">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			
<span class="fc" id="L431">			functions.Login(driver, premiumparkinguseruserName, password);</span>
<span class="fc" id="L432">			functions.reservationTimeAndDate(driver, startdate, enddate, AreaName);</span>
<span class="fc" id="L433">			functions.reservationFloorAndSpot(driver, premiumpermitType, floorNum, spotNum);</span>
<span class="fc" id="L434">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L435" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L437">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L438">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L440">					e.printStackTrace();</span>
<span class="nc" id="L441">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L443">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L446">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L447">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L448">			functions.viewUserParkingSpots(driver, AreaName, premiumpermitType, floorNum.toString());</span>
<span class="fc" id="L449">			driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_viewres&quot;))).click();</span>
<span class="pc bpc" id="L450" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L452">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L453">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L455">					e.printStackTrace();</span>
<span class="nc" id="L456">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L458">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L461">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
<span class="fc" id="L462">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			
<span class="fc" id="L464">			functions.Login(driver, midrangeparkinguseruserName, password);</span>
<span class="fc" id="L465">			functions.reservationTimeAndDate(driver, startdate, enddate, AreaName);</span>
<span class="fc" id="L466">			functions.reservationFloorAndSpot(driver, midrangepermitType, floorNum, spotNum);</span>
<span class="fc" id="L467">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L468" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L470">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L471">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L473">					e.printStackTrace();</span>
<span class="nc" id="L474">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L476">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L479">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L480">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L481">			functions.viewUserParkingSpots(driver, AreaName, midrangepermitType, floorNum.toString());</span>
<span class="fc" id="L482">			driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_viewres&quot;))).click();</span>
<span class="pc bpc" id="L483" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L485">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L486">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L488">					e.printStackTrace();</span>
<span class="nc" id="L489">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L491">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L494">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
<span class="fc" id="L495">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			
<span class="fc" id="L497">			functions.Login(driver, accessparkinguseruserName, password);</span>
<span class="fc" id="L498">			functions.reservationTimeAndDate(driver, startdate, enddate, AreaName);</span>
<span class="fc" id="L499">			functions.reservationFloorAndSpot(driver, accesspermitType, floorNum, spotNum);</span>
<span class="fc" id="L500">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L501" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L503">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L504">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L506">					e.printStackTrace();</span>
<span class="nc" id="L507">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L509">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L512">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L513">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L514">			functions.viewUserParkingSpots(driver, AreaName, accesspermitType, floorNum.toString());</span>
<span class="fc" id="L515">			driver.findElement(By.id(prop.getProperty(&quot;Btn_ParkingUser_viewres&quot;))).click();</span>
<span class="pc bpc" id="L516" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L518">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L519">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L521">					e.printStackTrace();</span>
<span class="nc" id="L522">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L524">					e.printStackTrace();</span>
				}
			}	
<span class="fc" id="L527">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
			
<span class="fc" id="L529">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
<span class="fc" id="L530">		}</span>
		
		  @Test
		  @FileParameters(&quot;tests/Excel/ParkingUserMaxReservations.csv&quot;)
		  public void hParkingUserEditCancelReservation(String userName, String password, String confirmPassword, String role,
					String permitType, String firstName, String middleName, String lastName, String sex, String dayOfBirth,
					String address, String email, String phoneNum, String dlNum, String dayOfExpiry, String regNum,
					String utaId, String startdate, String enddate, String area, String reservationPermitType, Integer floorNum,
					Integer spotNum, String ccNum, String expMon, String expYear, String cvv, String cardType, Boolean cart, Boolean camera, Boolean history,
					String startTimeError, String endTimeError, String compareError, 
					String cardNumError, String cardYearError, String cardMonthError, String cardCvvError) throws Exception 
		  {
<span class="fc" id="L542">			driver.get(appUrl);</span>
<span class="fc" id="L543">			DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="fc" id="L544">			Date date = new Date();</span>
<span class="fc" id="L545">			startdate = dateFormat.format(date) +&quot; &quot;+startdate;</span>
<span class="fc" id="L546">			enddate = dateFormat.format(date) +&quot; &quot;+enddate;</span>
			//Register
<span class="pc bpc" id="L548" title="1 of 2 branches missed.">			if (TestDAO.userExists(userName)) {</span>
<span class="nc" id="L549">				TestDAO.deleteReservation(userName);</span>
<span class="nc" id="L550">				TestDAO.deleteUser(userName);</span>
			}
<span class="fc" id="L552">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L553">			functions.Register(driver, userName, password, confirmPassword, role, permitType);</span>
<span class="fc" id="L554">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L555">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
			//Assert user registered
<span class="fc" id="L557">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L558">					.equals(&quot;Registered Successfully.&quot;));</span>
			//Login
<span class="fc" id="L560">			functions.Login(driver, userName, password);</span>
			//Reservation 1
<span class="fc" id="L562">			functions.reservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L563">			functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum);</span>
<span class="fc" id="L564">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L565" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L567">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L568">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L570">					e.printStackTrace();</span>
<span class="nc" id="L571">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L573">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L576">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L577">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
			//Modify Reservation
<span class="fc" id="L579">			functions.modifyreservation(driver,1);</span>
<span class="fc" id="L580">			functions.editreservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L581">			functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum);</span>
<span class="fc" id="L582">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L583" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L585">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L586">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L588">					e.printStackTrace();</span>
<span class="nc" id="L589">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L591">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L594">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L595">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
			//Delete Reservation
<span class="fc" id="L597">			functions.deletereservation(driver, 1);</span>
<span class="fc" id="L598">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Del_msg&quot;))).getText().equals(&quot;Deleted Successfully.&quot;));</span>
<span class="fc" id="L599">		    driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Home_Page&quot;))).click();</span>
			
<span class="fc" id="L601">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
					
<span class="fc" id="L603">		  }</span>
		  
		  @Test
		  @FileParameters(&quot;tests/Excel/ParkingUserMaxReservations.csv&quot;)
		  public void iParkingUser3Reservations(String userName, String password, String confirmPassword, String role,
					String permitType, String firstName, String middleName, String lastName, String sex, String dayOfBirth,
					String address, String email, String phoneNum, String dlNum, String dayOfExpiry, String regNum,
					String utaId, String startdate, String enddate, String area, String reservationPermitType, Integer floorNum,
					Integer spotNum, String ccNum, String expMon, String expYear, String cvv, String cardType, Boolean cart, Boolean camera, Boolean history,
					String startTimeError, String endTimeError, String compareError, 
					String cardNumError, String cardYearError, String cardMonthError, String cardCvvError) throws Exception 
		  {
<span class="fc" id="L615">			driver.get(appUrl);</span>
<span class="fc" id="L616">			DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="fc" id="L617">			Date date = new Date();</span>
<span class="fc" id="L618">			startdate = dateFormat.format(date) +&quot; &quot;+startdate;</span>
<span class="fc" id="L619">			enddate = dateFormat.format(date) +&quot; &quot;+enddate;</span>
			//Register
<span class="pc bpc" id="L621" title="1 of 2 branches missed.">			if (TestDAO.userExists(userName)) {</span>
<span class="fc" id="L622">				TestDAO.deleteReservation(userName);</span>
<span class="fc" id="L623">				TestDAO.deleteUser(userName);</span>
			}
<span class="fc" id="L625">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Login_Register&quot;))).click();</span>
<span class="fc" id="L626">			functions.Register(driver, userName, password, confirmPassword, role, permitType);</span>
<span class="fc" id="L627">			functions.RegisterUserDetails(driver, firstName, middleName, lastName, sex, dayOfBirth, address, email,</span>
<span class="fc" id="L628">					phoneNum, dlNum, dayOfExpiry, regNum, utaId);</span>
			//Assert user registered
<span class="fc" id="L630">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Register_Success&quot;))).getText()</span>
<span class="fc" id="L631">					.equals(&quot;Registered Successfully.&quot;));</span>
			//Login
<span class="fc" id="L633">			functions.Login(driver, userName, password);</span>
			//Reservation 1
<span class="fc" id="L635">			functions.reservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L636">			functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum);</span>
<span class="fc" id="L637">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L638" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L640">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L641">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L643">					e.printStackTrace();</span>
<span class="nc" id="L644">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L646">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L649">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L650">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L651">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
		    //Reservation 2 previous Spot + 1
<span class="fc" id="L653">		    functions.Login(driver, userName, password);</span>
<span class="fc" id="L654">		    functions.reservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L655">			functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum+1);</span>
<span class="fc" id="L656">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L657" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L659">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L660">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L662">					e.printStackTrace();</span>
<span class="nc" id="L663">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L665">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L668">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L669">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
<span class="fc" id="L670">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			//Reservation 3 previous Spot + 2
<span class="fc" id="L672">		    functions.Login(driver, userName, password);</span>
<span class="fc" id="L673">		    functions.reservationTimeAndDate(driver, startdate, enddate, area);</span>
<span class="fc" id="L674">			functions.reservationFloorAndSpot(driver, reservationPermitType, floorNum, spotNum+2);</span>
<span class="fc" id="L675">			functions.makeReservation(driver, ccNum, expMon, expYear, cvv, cart, camera, history, cardType);</span>
<span class="pc bpc" id="L676" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L678">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L679">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L681">					e.printStackTrace();</span>
<span class="nc" id="L682">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L684">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L687">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Reserve_Sucess&quot;))).getText()</span>
<span class="fc" id="L688">							.equals(&quot;Reservation has been made successfully.&quot;));</span>
			//Check Revoked
<span class="fc" id="L690">			driver.findElement(By.id(prop.getProperty(&quot;Btn_Reservation_Reserve&quot;))).click();</span>
<span class="pc bpc" id="L691" title="1 of 2 branches missed.">			if (prop.getProperty(&quot;test_delay&quot;).equals(&quot;delay&quot;)) {</span>
				try {
<span class="fc" id="L693">					Thread.sleep((Integer.parseInt(prop.getProperty(&quot;thread_sleep&quot;))));</span>
<span class="pc" id="L694">				} catch (NumberFormatException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L696">					e.printStackTrace();</span>
<span class="nc" id="L697">				} catch (InterruptedException e) {</span>
					// TODO Auto-generated catch block
<span class="nc" id="L699">					e.printStackTrace();</span>
				}
			}
<span class="fc" id="L702">			assertTrue(driver.findElement(By.id(prop.getProperty(&quot;Txt_Max_Reservation&quot;))).getText()</span>
<span class="fc" id="L703">					.equals(&quot;Only 3 Reservations allowed in a day.&quot;));</span>
<span class="fc" id="L704">			driver.findElement(By.id(prop.getProperty(&quot;Btn_User_Logout&quot;))).click();</span>
			
<span class="fc" id="L706">		  }</span>
			
	  

	@After
	public void tearDown() throws Exception {
<span class="fc" id="L712">		driver.quit();</span>
<span class="fc" id="L713">		String verificationErrorString = verificationErrors.toString();</span>
<span class="pc bpc" id="L714" title="1 of 2 branches missed.">		if (!&quot;&quot;.equals(verificationErrorString)) {</span>
<span class="nc" id="L715">			fail(verificationErrorString);</span>
		}
<span class="fc" id="L717">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span>Merged (Apr 30, 2019 2:51:49 AM)</div></body></html>